import java.awt.Color;
import javax.swing.JButton;
import javax.swing.JLabel;

public class PuzzleModel {
	PuzzleFrame pFrame;
	
	JLabel nextVal;
	int blankIndexX;
	int blankIndexY;

	public PuzzleModel(PuzzleFrame pFrame) {
		this.pFrame = pFrame;
		blankIndexX = pFrame.n - 1;
		blankIndexY = pFrame.n - 1;
	}

	public void moveUp() {
		if (blankIndexX != pFrame.n - 1) {
			nextVal = pFrame.pPanel[blankIndexX + 1][blankIndexY].pLabel;
			pFrame.pPanel[blankIndexX][blankIndexY].pLabel.setText(nextVal.getText());
			pFrame.pPanel[blankIndexX + 1][blankIndexY].pLabel.setText("");
			blankIndexX++;
			pFrame.pPanel[blankIndexX - 1][blankIndexY].setBackground(Color.CYAN);
			pFrame.pPanel[blankIndexX][blankIndexY].setBackground(Color.BLUE);
		}
	}

	public void moveDown() {
		if (blankIndexX != 0) {
			nextVal = pFrame.pPanel[blankIndexX - 1][blankIndexY].pLabel;
			pFrame.pPanel[blankIndexX][blankIndexY].pLabel.setText(nextVal.getText());
			pFrame.pPanel[blankIndexX - 1][blankIndexY].pLabel.setText("");
			blankIndexX--;
			pFrame.pPanel[blankIndexX + 1][blankIndexY].setBackground(Color.CYAN);
			pFrame.pPanel[blankIndexX][blankIndexY].setBackground(Color.BLUE);
		}
	}

	public void moveLeft() {
		if (blankIndexY != pFrame.n - 1) {
			nextVal = pFrame.pPanel[blankIndexX][blankIndexY + 1].pLabel;
			pFrame.pPanel[blankIndexX][blankIndexY].pLabel.setText(nextVal.getText());
			pFrame.pPanel[blankIndexX][blankIndexY + 1].pLabel.setText("");
			blankIndexY++;
			pFrame.pPanel[blankIndexX][blankIndexY - 1].setBackground(Color.CYAN);
			pFrame.pPanel[blankIndexX][blankIndexY].setBackground(Color.BLUE);
		}
	}

	public void moveRight() {
		if (blankIndexY != 0) {
			nextVal = pFrame.pPanel[blankIndexX][blankIndexY - 1].pLabel;
			pFrame.pPanel[blankIndexX][blankIndexY].pLabel.setText(nextVal.getText());
			pFrame.pPanel[blankIndexX][blankIndexY - 1].pLabel.setText("");
			blankIndexY--;
			pFrame.pPanel[blankIndexX][blankIndexY + 1].setBackground(Color.CYAN);
			pFrame.pPanel[blankIndexX][blankIndexY].setBackground(Color.BLUE);
		}
	}
}
